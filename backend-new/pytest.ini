[tool:pytest]
# Pytest configuration for Japanese Learning App Backend
minversion = 7.0
addopts = 
    -ra 
    -q 
    --strict-markers
    --disable-warnings
    --tb=short
    --maxfail=5
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Custom markers for different test types
markers =
    unit: Unit tests (fast, no external dependencies)
    integration: Integration tests (require database/external services)
    slow: Slow tests that take more than a few seconds
    japanese: Tests specific to Japanese learning functionality
    api: API endpoint tests
    database: Database-related tests
    auth: Authentication/authorization tests

# Test discovery patterns
norecursedirs = 
    .git
    .tox
    dist
    build
    *.egg
    venv
    .venv
    node_modules

# Filterwarnings to reduce noise
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore:.*sqlalchemy.*:DeprecationWarning

# Test timeout (in seconds)
timeout = 300

# Coverage options (if coverage plugin is installed)
# addopts += --cov=src --cov-report=term-missing --cov-report=html